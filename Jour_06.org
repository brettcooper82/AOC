--- Jour 6 : Garde Gallivant ---

Les Historiens utilisent à nouveau leur appareil sophistiqué, cette fois pour vous emmener tous au labo prototype du Pôle Nord... en l'an 1518. Il s'avère qu'avoir un accès direct à l'histoire est très pratique pour un groupe d'historiens.

Il faut encore faire attention aux paradoxes du temps, et il sera donc important d'éviter tout le nombre de 1518 alors que les Historiens recherchent le chef. Malheureusement, un seul garde patrouille cette partie du laboratoire.

Peut-être pouvez-vous déterminer où le garde ira à l'avance pour que les Historiens puissent effectuer des recherches en toute sécurité ?

Vous commencez par faire une carte (votre jeu d'énigmes) de la situation. Par exemple:

....#.....
.........#
..........
..#.......
.......#..
..........
.#..^.....
........#.
#.........
......#...

La carte montre la position actuelle de la garde avec ^ (pour indiquer que le gardien est actuellement confronté vers le haut du point de vue de la carte). Tout obstructions - caisses, réacteurs, réacteurs alchimiques, etc. - sont indiqués comme #.

Les gardes de laboratoire en 1518 suivent un protocole de patrouille très strict qui implique à plusieurs reprises de suivre ces étapes:

    S'il y a quelque chose en face de vous, tournez à droite à 90 degrés.
    Sinon, faites un pas en avant.

Suivant le protocole ci-dessus, le garde remonte plusieurs fois jusqu'à ce qu'elle atteigne un obstacle (dans ce cas, une pile de prototypes de costumes défaillants):

....#.....
....^....#
..........
..#.......
.......#..
..........
.#........
........#.
#.........
......#...

Parce qu'il y a maintenant un obstacle devant le garde, elle tourne à droite avant de continuer tout droit dans sa nouvelle direction tournée:

....#.....
........>#
..........
..#.......
.......#..
..........
.#........
........#.
#.........
......#...

Atteignant un autre obstacle (une bobine de plusieurs polymères très longs), elle tourne à droite à nouveau et continue vers le bas:

....#.....
.........#
..........
..#.......
.......#..
..........
.#......v.
........#.
#.........
......#...

Ce processus se poursuit pendant un certain temps, mais le garde quitte finalement la zone cartographiée (après avoir franchi un réservoir de solvant universel):

....#.....
.........#
..........
..#.......
.......#..
..........
.#........
........#.
#.........
......#v..

En prédisant l'itinéraire du garde, vous pouvez déterminer quelles positions spécifiques dans le laboratoire seront sur la piste de patrouille. Y compris la position de départ du garde, les positions visitées par le garde avant de quitter la zone sont marquées d'un X:

....#.....
....XXXXX#
....X...X.
..#.X...X.
..XXXXX#X.
..X.X.X.X.
.#XXXXXXX.
.XXXXXXX#.
#XXXXXXX..
......#X..

Dans cet exemple, le garde se rendra 41 des positions distinctes sur votre carte.

Prévoir le chemin de la garde. Combien de positions distinctes le garde va-t-il visiter avant de quitter la zone cartographiée?


Réponse Partie 1 : 
